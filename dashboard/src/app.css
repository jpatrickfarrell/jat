@import "tailwindcss";

/* Terminal font - JetBrainsMono Nerd Font for consistent terminal appearance */
:root {
	--terminal-font: 'JetBrainsMono Nerd Font Mono', 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;
	--terminal-font-size: 0.875rem; /* text-sm = 14px */
}

@plugin "daisyui" {
	themes:
		light,
		dark,
		cupcake,
		bumblebee,
		emerald,
		corporate,
		synthwave,
		retro,
		cyberpunk,
		valentine,
		halloween,
		garden,
		forest,
		aqua,
		lofi,
		pastel,
		fantasy,
		wireframe,
		black,
		luxury,
		dracula,
		cmyk,
		autumn,
		business --default,
		acid,
		lemonade,
		night,
		coffee,
		winter,
		dim,
		nord,
		sunset;
}

/* Industrial theme utility classes */
.industrial-hover {
	transition: all 0.2s ease;
}
.industrial-hover:hover {
	background-color: oklch(0.30 0.02 250);
	color: oklch(0.80 0.10 240);
}

/* Industrial row hover for tables */
.industrial-row {
	transition: all 0.15s ease;
}
.industrial-row:hover {
	background-color: oklch(0.22 0.02 250) !important;
	border-left-color: oklch(0.70 0.18 240) !important;
}

/* Sidebar nav hover - brighten icon */
.industrial-hover:hover svg {
	color: oklch(0.70 0.15 240) !important;
}

/* New task entrance animation */
@keyframes task-entrance {
	0% {
		opacity: 0;
		transform: translateX(-20px);
		background-color: oklch(0.70 0.18 240 / 0.3);
		box-shadow: 0 0 20px oklch(0.70 0.18 240 / 0.4);
	}
	50% {
		opacity: 1;
		transform: translateX(0);
		background-color: oklch(0.70 0.18 240 / 0.2);
		box-shadow: 0 0 15px oklch(0.70 0.18 240 / 0.3);
	}
	100% {
		opacity: 1;
		transform: translateX(0);
		background-color: transparent;
		box-shadow: none;
	}
}

.task-new-entrance {
	animation: task-entrance 1.2s ease-out forwards;
}

/* Task exit animation (for deletions) */
@keyframes task-exit {
	0% {
		opacity: 1;
		transform: translateX(0);
		background-color: transparent;
	}
	50% {
		opacity: 0.7;
		transform: translateX(10px);
		background-color: oklch(0.70 0.20 25 / 0.2);
	}
	100% {
		opacity: 0;
		transform: translateX(30px);
		background-color: oklch(0.70 0.20 25 / 0.3);
		height: 0;
		padding: 0;
		margin: 0;
		overflow: hidden;
	}
}

.task-exit {
	animation: task-exit 0.5s ease-in forwards;
}

/* Task starting work animation (green glow) */
@keyframes task-starting {
	0% {
		background-color: transparent;
		box-shadow: none;
	}
	25% {
		background-color: oklch(0.70 0.20 140 / 0.25);
		box-shadow: 0 0 15px oklch(0.70 0.20 140 / 0.4);
	}
	50% {
		background-color: oklch(0.70 0.20 140 / 0.15);
		box-shadow: 0 0 10px oklch(0.70 0.20 140 / 0.3);
	}
	100% {
		background-color: transparent;
		box-shadow: none;
	}
}

.task-starting {
	animation: task-starting 1.2s ease-out forwards;
}

/* Task completion animation (gold/yellow glow) */
@keyframes task-completed {
	0% {
		background-color: transparent;
		box-shadow: none;
	}
	25% {
		background-color: oklch(0.75 0.15 85 / 0.25);
		box-shadow: 0 0 15px oklch(0.75 0.15 85 / 0.4);
	}
	50% {
		background-color: oklch(0.75 0.15 85 / 0.15);
		box-shadow: 0 0 10px oklch(0.75 0.15 85 / 0.3);
	}
	100% {
		background-color: transparent;
		box-shadow: none;
	}
}

.task-completed {
	animation: task-completed 1.2s ease-out forwards;
}

/* Working to Completed transition animation (amber â†’ green) */
@keyframes working-to-completed {
	0% {
		/* Start with working state (amber) */
		background: linear-gradient(90deg, oklch(0.75 0.15 85 / 0.15), transparent);
		box-shadow: inset 0 0 20px oklch(0.75 0.15 85 / 0.2);
		border-left-color: oklch(0.75 0.18 85);
	}
	30% {
		/* Brighten as transition begins */
		background: linear-gradient(90deg, oklch(0.80 0.18 100 / 0.20), transparent);
		box-shadow: 0 0 25px oklch(0.80 0.20 100 / 0.4), inset 0 0 15px oklch(0.80 0.18 100 / 0.15);
		border-left-color: oklch(0.80 0.20 115);
	}
	60% {
		/* Shift to green with peak glow */
		background: linear-gradient(90deg, oklch(0.65 0.20 145 / 0.25), transparent);
		box-shadow: 0 0 30px oklch(0.65 0.22 145 / 0.5), inset 0 0 20px oklch(0.65 0.20 145 / 0.2);
		border-left-color: oklch(0.70 0.22 145);
	}
	100% {
		/* Settle into completed state (green) */
		background: linear-gradient(90deg, oklch(0.55 0.18 145 / 0.15), transparent);
		box-shadow: none;
		border-left-color: oklch(0.65 0.20 145);
	}
}

.task-working-completed {
	animation: working-to-completed 1.5s ease-out forwards;
}

/* Radar sweep animation for empty state */
@keyframes radar-sweep {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

.radar-sweep {
	animation: radar-sweep 4s linear infinite;
}

/* Radar center pulse animation */
@keyframes radar-pulse {
	0%, 100% {
		opacity: 1;
		transform: scale(1);
		box-shadow: 0 0 10px oklch(0.70 0.18 240);
	}
	50% {
		opacity: 0.7;
		transform: scale(1.3);
		box-shadow: 0 0 20px oklch(0.70 0.18 240), 0 0 30px oklch(0.70 0.18 240 / 0.5);
	}
}

.radar-pulse {
	animation: radar-pulse 2s ease-in-out infinite;
}

/* New agent entrance animation (scale + glow) */
@keyframes agent-entrance {
	0% {
		opacity: 0;
		transform: scale(0.8) translateY(10px);
		box-shadow: 0 0 0 0 oklch(0.70 0.18 200 / 0);
	}
	30% {
		opacity: 1;
		transform: scale(1.02) translateY(0);
		box-shadow: 0 0 30px 10px oklch(0.70 0.18 200 / 0.4);
	}
	60% {
		transform: scale(1);
		box-shadow: 0 0 20px 5px oklch(0.70 0.18 200 / 0.2);
	}
	100% {
		opacity: 1;
		transform: scale(1) translateY(0);
		box-shadow: 0 0 0 0 oklch(0.70 0.18 200 / 0);
	}
}

.agent-new-entrance {
	animation: agent-entrance 1.5s ease-out forwards;
}

/* Sparkline draw animation - line draws from left to right */
@keyframes sparkline-draw {
	from {
		stroke-dashoffset: 1;
	}
	to {
		stroke-dashoffset: 0;
	}
}

.sparkline-animate {
	stroke-dasharray: 1;
	stroke-dashoffset: 1;
	animation: sparkline-draw 0.8s ease-out forwards;
}

/* Sparkline area fade-in animation */
@keyframes sparkline-area-fade {
	from {
		opacity: 0;
	}
	to {
		opacity: 0.4;
	}
}

.sparkline-area-animate {
	opacity: 0;
	animation: sparkline-area-fade 0.8s ease-out 0.3s forwards;
}

/* Agent highlight flash animation (when navigating from task badge click) */
@keyframes agent-highlight-flash {
	0% {
		box-shadow: 0 0 0 0 oklch(0.70 0.18 220 / 0);
	}
	20% {
		box-shadow: 0 0 30px 10px oklch(0.70 0.18 220 / 0.5);
	}
	40% {
		box-shadow: 0 0 20px 5px oklch(0.70 0.18 220 / 0.3);
	}
	60% {
		box-shadow: 0 0 25px 8px oklch(0.70 0.18 220 / 0.4);
	}
	80% {
		box-shadow: 0 0 15px 3px oklch(0.70 0.18 220 / 0.2);
	}
	100% {
		box-shadow: 0 0 0 0 oklch(0.70 0.18 220 / 0);
	}
}

.agent-highlight-flash {
	animation: agent-highlight-flash 1.5s ease-out forwards;
}

/* Rocket Launch Animation */
.rocket-btn {
	position: relative;
	overflow: visible;
}

.rocket-btn .rocket-icon {
	transition: transform 0.15s ease;
}

.rocket-btn:hover:not(:disabled) .rocket-icon {
	transform: translateY(-2px);
}

/* Rocket shake before launch */
@keyframes rocket-shake {
	0%, 100% { transform: translateX(0) translateY(0); }
	10% { transform: translateX(-1px) translateY(0); }
	20% { transform: translateX(1px) translateY(-1px); }
	30% { transform: translateX(-1px) translateY(0); }
	40% { transform: translateX(1px) translateY(-1px); }
	50% { transform: translateX(-1px) translateY(0); }
	60% { transform: translateX(1px) translateY(-1px); }
	70% { transform: translateX(-1px) translateY(0); }
	80% { transform: translateX(1px) translateY(-1px); }
	90% { transform: translateX(-1px) translateY(0); }
}

/* Rocket launch upward */
@keyframes rocket-launch {
	0% {
		transform: translateY(0) scale(1);
		opacity: 1;
	}
	50% {
		transform: translateY(-15px) scale(1.1);
		opacity: 1;
	}
	100% {
		transform: translateY(-40px) scale(0.8);
		opacity: 0;
	}
}

/* Fire/exhaust animation */
@keyframes rocket-fire {
	0% {
		transform: scaleY(0.3) scaleX(1);
		opacity: 0;
	}
	20% {
		transform: scaleY(1) scaleX(1);
		opacity: 1;
	}
	50% {
		transform: scaleY(1.5) scaleX(0.8);
		opacity: 1;
	}
	100% {
		transform: scaleY(2) scaleX(0.6);
		opacity: 0;
	}
}

/* Smoke puff animation */
@keyframes rocket-smoke {
	0% {
		transform: scale(0) translateY(0);
		opacity: 0.8;
	}
	50% {
		transform: scale(1.5) translateY(5px);
		opacity: 0.4;
	}
	100% {
		transform: scale(2) translateY(10px);
		opacity: 0;
	}
}

/* Combined launching state */
.rocket-launching .rocket-icon {
	animation: rocket-shake 0.4s ease-in-out, rocket-launch 0.6s ease-in 0.4s forwards;
}

.rocket-launching .rocket-fire {
	animation: rocket-fire 0.8s ease-out 0.3s forwards;
}

.rocket-launching .rocket-smoke {
	animation: rocket-smoke 0.8s ease-out 0.2s forwards;
}

.rocket-launching .rocket-smoke-2 {
	animation: rocket-smoke 0.8s ease-out 0.35s forwards;
}

/* Terminal clickable links */
.terminal-link {
	color: oklch(0.70 0.15 220);
	text-decoration: underline;
	text-decoration-style: dotted;
	text-underline-offset: 2px;
	cursor: pointer;
	transition: color 0.15s ease, text-decoration-color 0.15s ease;
}

.terminal-link:hover {
	color: oklch(0.80 0.18 220);
	text-decoration-style: solid;
}

/* Terminal search highlight */
.terminal-search-match {
	background-color: oklch(0.75 0.20 85 / 0.4);
	border-radius: 2px;
	padding: 0 1px;
}

.terminal-search-match.current {
	background-color: oklch(0.70 0.25 45 / 0.6);
	outline: 1px solid oklch(0.70 0.25 45);
}
